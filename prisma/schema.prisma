generator client {
    provider = "prisma-client-js" 
    previewFeatures = ["fullTextSearch", "fullTextIndex"]
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Order {
    id              Int         @id @default(autoincrement())
    storeId         Int
    name            String
    lastname        String
    company         String?
    postcode        String
    address         String
    city            String
    phone           String
    email           String
    notes           String?
    datetime        String
    total           Float

    products        OrderProduct[]
}

model OrderProduct {
    id              Int         @id @default(autoincrement())
    name            String
    price           Float
    quantity        Int
    referenceId     Int         @default(1)

    orderId         Int         
    order           Order       @relation(fields: [orderId], references: [id])
}